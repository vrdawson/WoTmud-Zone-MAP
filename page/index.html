<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <title data-i18n="title">%title%</title>
        <link rel="shortcut icon" type="image/x-icon" href="images/logo.svg" />
        <link href="css/bootstrap-sandstone.min.css" rel="stylesheet" type="text/css" />
        <link id="base-stylesheet" href="css/bootstrap-sandstone.min.css" rel="stylesheet" type="text/css" />
        <link id="dark-stylesheet" href="css/bootstrap.dark.min.css" rel="stylesheet" type="text/css" />
        <link href="css/translations.css" rel="stylesheet" type="text/css" />
        <link href="css/style.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <header>
            <div class="left-header">
                <h2>
                    <img src="images/logo.svg" />
                    <a href="index.html"><span id="title" data-i18n="title">%title%</span></a>
                </h2>
                <div class="map-controls">
                    <form class="area-form">
                        <select class="form-select" id="area"></select>
                    </form>
                    <span class="levels-container">
                        <span class="control levels btn-group btn-group-toggle"></span>
                    </span>
                    <span class="control">
                        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#area-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                              </svg>
                        </button>
                    </span>
                </div>
            </div>
            <div class="controls flex-wrap btn-toolbar">
                <button class="control copy-image btn btn-secondary" title="Kopiuj obraz">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"/>
                      </svg>
                    <span id="trn-copy" data-i18n="copy">Kopiuj</span>
                </button>
                <div class="btn-group control">
                    <button class="save-image btn btn-secondary" title="Zapisz obraz">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                          </svg>
                        <span data-i18n="save">Zapisz</span>
                    </button>
                    <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">
                        <span class="visually-hidden">Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item save-image" href="#" data-i18n="save-png">Zapisz jako PNG</a></li>
                        <li><a class="dropdown-item save-image-svg" href="#" data-i18n="save-svg">Zapisz jako SVG</a></li>
                    </ul>
                </div>
                <div class="btn-group control">
                    <button class="search btn btn-secondary" data-bs-toggle="modal" data-bs-target="#search" title="Szukaj">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                          </svg>
                        <span data-i18n="search">Szukaj</span>
                    </button>
                    <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">
                        <span class="visually-hidden">Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item find-path" href="#" data-bs-toggle="modal" data-bs-target="#findpath" data-i18n="find-path">
                                Wyznacz ścieżkę
                            </a>
                        </li>
                    </ul>
                </div>
                <button class="control settings btn btn-secondary" data-bs-toggle="modal" data-bs-target="#settings" title="Ustawienia">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"/>
                      </svg>
                    <span data-i18n="settings">Ustawienia</span>
                </button>
                <button class="control help btn btn-secondary" data-bs-toggle="modal" data-bs-target="#help" title="Pomoc">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                      </svg>
                    <span><span data-i18n="help">Pomoc</span> <span class="badge bg-secondary version-number"></span></span>
                </button>
                <button class="btn btn-secondary dropdown-toggle lang-label" id="dropdownMenuButton" data-bs-toggle="dropdown">
                    <span class="current-language-flag flag">&nbsp;</span>
                </button>
                <div class="dropdown-menu lang-selector lang-dropdown">
                    <a class="dropdown-item" href="#" data-lang="en"><div class="flag flag-gb"></div></a>
                </div>
            </div>
        </header>
        <div class="modal fade" id="area-info" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                            <h5 class="modal-title area-name"></h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                <span data-i18n="room-count">Ilość lokacji</span>: <span class="area-room-count"></span>
                            </p>
                            <p>
                                Wyjścia:
                                <ul class="area-exits"></ul>
                            </p>
                        </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="search" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <form class="search-form">
                        <div class="modal-header">
                            <h5 class="modal-title" data-i18n="search">Szukaj</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label class="form-label" for="search-id" data-i18n="search-label">Numer lokacji lub pełne imię adresata paczki:</label>
                                <input
                                    class="form-control advancedAutoComplete"
                                    type="text"
                                    id="search-id"
                                    name="roomId"
                                    data-npc="data/npc.json"
                                    autocomplete="off"
                                />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary" data-i18n="search">Szukaj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="findpath" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <form class="findpath-form">
                        <div class="modal-header">
                            <h5 class="modal-title" data-i18n="find-path">Wyznacz ścieżkę</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label class="form-label" for="start-loc" data-i18n="start-loc">Lokacja startowa:</label>
                                <input class="form-control" type="number" id="start-loc" name="start-loc" required/>
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="end-loc" data-i18n="end-loc">Lokacja docelowa:</label>
                                <input class="form-control" type="number" id="end-loc" name="end-loc" required/>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary" data-i18n="search">Szukaj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="settings" tabindex="-1" role="dialog" data-bs-theme="dark">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <form class="settings-form">
                        <div class="modal-header">
                            <h5 class="modal-title" data-i18n="settings">Ustawienia</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <nav class="mb-3">
                                <div class="nav nav-pills container" id="nav-tab" role="tablist">
                                    <button
                                        class="nav-link active"
                                        id="nav-map-tab"
                                        data-bs-toggle="pill"
                                        data-bs-target="#nav-map"
                                        type="button"
                                        role="tab"
                                        data-i18n="map"
                                    >
                                        Mapa
                                    </button>
                                    <button
                                        class="nav-link"
                                        id="nav-page-tab"
                                        data-bs-toggle="pill"
                                        data-bs-target="#nav-page"
                                        type="button"
                                        role="tab"
                                        data-i18n="page"
                                    >
                                        Strona
                                    </button>
                                </div>
                            </nav>
                            <div class="tab-content" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="nav-map" role="tabpanel">
                                    <div class="mb-3">
                                        <label class="form-label" for="location-size" data-i18n="location-size">Wielkość lokacji</label>
                                        <input class="form-control" type="number" id="location-size" name="roomSize" />
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label" for="exits-size" data-i18n="line-thickness">Grubość linii</label>
                                        <input class="form-control" type="number" id="exits-size" name="exitsSize" />
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="uniformLevelSize" value="1" id="uniformLevelSize" />
                                            <label class="form-check-label" for="uniformLevelSize" data-i18n="uniform-areas">
                                                Jednakowa wielkość poziomów strefy
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="keepZoomLevel" value="1" id="keepZoomLevel" />
                                            <label class="form-check-label" for="keepZoomLevel" data-i18n="keep-zoom-level">
                                                Zachowuj poziom przybliżenia
                                            </label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="borders" value="1" id="borders-check" />
                                            <label class="form-check-label" for="borders-check" data-i18n="location-borders"> Krawędzie lokacji </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="frameMode" value="1" id="frame-check" />
                                            <label class="form-check-label" for="frame-check" data-i18n="borders-only"> Pokaż tylko krawędzie </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="emboss" value="0" id="emboss-check" />
                                            <label class="form-check-label" for="emboss-check" data-i18n="emboss-locations"> Wypukłe lokacje </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="isRound" value="1" id="round-check" />
                                            <label class="form-check-label" for="round-check" data-i18n="round-borders"> Okrągłe lokacje </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="areaName" value="1" id="area-check" />
                                            <label class="form-check-label" for="area-check" data-i18n="area-names"> Nazwy stref </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="showLabels" value="1" id="labels-check" />
                                            <label class="form-check-label" for="labels-check" data-i18n="labels"> Etykiety </label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="row row-cols-auto">
                                            <div class="col">
                                                <label for="map-background" class="form-label" data-i18n="background">Tło mapy</label>
                                                <input
                                                    type="color"
                                                    class="form-control form-control-color"
                                                    id="mapBackground"
                                                    name="mapBackground"
                                                    value="#000000"
                                                    title="Wybierz kolor tła"
                                                />
                                            </div>
                                            <div class="col">
                                                <label for="linesColor" class="form-label" data-i18n="line-color">Kolor linii</label>
                                                <input
                                                    type="color"
                                                    class="form-control form-control-color"
                                                    id="linesColor"
                                                    name="linesColor"
                                                    value="#ffffff"
                                                    title="Wybierz kolor linii"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" name="transparentLabels" value="1" id="transparentLabels-check" />
                                        <label class="form-check-label" for="transparentLabels-check" data-i18n="transparent-labels">
                                            Przezroczyste tło etykiet
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="optimizeDrag" value="1" id="optimize-drag" />
                                        <label class="form-check-label" for="optimize-drag" data-i18n="optimize-drag">Optymalizacja przesuwania mapy</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="preview" value="1" id="preview-input" />
                                        <label class="form-check-label" for="preview-input" data-i18n="minimap">Minimapa</label>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="nav-page" role="tabpanel">
                                    <div class="mb-3">
                                        <label class="form-label" for="page-theme" data-i18n="page-theme">Styl strony</label>
                                        <select class="form-select" id="template-selector">
                                            <option>Bootstrap</option>
                                            <option>Sandstone</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="page-dark" id="page-dark" checked>
                                            <label class="form-check-label" for="page-dark" data-i18n="page-dark">
                                                Ciemniejszy
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary" data-i18n="save">Zapisz</button>
                            <button type="reset" class="btn btn-light" data-i18n="defaults">Domyślne</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-i18n="cancel">Anuluj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="help" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" data-i18n="help">Pomoc</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p><kbd>F1</kbd> - <span data-i18n="this-help">ta pomoc</span></p>
                        <p><kbd>Ctrl + F</kbd> - <span data-i18n="search-help">szukaj</span></p>
                        <p></p>
                        <p><kbd>+</kbd> - <span data-i18n="zoom-in">przybliżenie</span></p>
                        <p><kbd>-</kbd> - <span data-i18n="zoom-out">oddalenie</span></p>
                        <p><kbd>↑ ↓ → ←</kbd> - <span data-i18n="map-move">przesuwanie mapy</span></p>
                        <p data-i18n="move-instruction">
                            Dodatkowo z zaznaczonej lokacji można po zwykłych wyjściach się poruszać za pomocą klawiatury numerycznej
                        </p>
                    </div>
                    <div class="modal-footer">
                        <div>
                            <span data-i18n="remark">%description%</span>
                            <br />
                            <br />
                            Created from template by Dargoth
                            <br />
                            GitHub: <a target="_blank" href="https://github.com/Delwing/online-mudlet-map-template">https://github.com/Delwing/online-mudlet-map-template</a>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="toasts">
            <div class="toast" data-delay="2000">
                <div class="toast-body"></div>
            </div>
        </div>
        <div class="zoom-controls btn-group-vertical">
            <button class="btn btn-secondary btn-sm" data-factor="1.1">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                  </svg>
            </button>
            <button class="btn btn-secondary btn-sm" data-factor="0.9">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                    <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>
                  </svg>
            </button>
        </div>
        <div class="map-container">
            <div class="progress-container">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 1%"></div>
                </div>
            </div>
            <div class="preview-container">
                <div class="preview">
                    <img src="" class="preview-img" />
                </div>
                <div class="preview-pan-container">
                    <div class="preview-pan"></div>
                </div>
            </div>
            <div class="info-box">
                <p>
                    <span data-i18n="location-id">ID Lokacji</span>: <a class="room-link" href="#"><span class="room-id"></span></a>
                </p>
                <p><span data-i18n="name">Nazwa</span>: <span class="room-name"></span></p>
                <p>Env Id: <span class="room-env"></span></p>
                <p><span data-i18n="coordinates">Koordynaty</span>:</p>
                <ul>
                    <li>x: <span class="coord-x"></span></li>
                    <li>y: <span class="coord-y"></span></li>
                    <li>z: <span class="coord-z"></span></li>
                    <li>Hash: <span class="room-hash"></span></li>
                </ul>
                <div class="exits">
                    <p><span data-i18n="exits">Wyjścia</span>:</p>
                    <ul></ul>
                </div>
                <div class="special">
                    <p><span data-i18n="special">Specjalne</span>:</p>
                    <ul></ul>
                </div>
                <div class="userData">
                    <p><span data-i18n="other">Inne</span>:</p>
                    <ul></ul>
                </div>
                <div class="npc">
                    <p><span data-i18n="packages">Paczki</span>:</p>
                    <ul></ul>
                </div>
            </div>
            <div class="path-box card opacity-75 invisible">
                <div class="card-header" data-i18n="paths">Ścieżki</div>
                <ul class="list-group list-group-flush"></ul>
            </div>
            <canvas id="map" resize="true"></canvas>
            <script src="data/mapExport.js"></script>
            <script src="data/colors.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/mudlet-map-browser-script@0.0.13/dist/bundle.min.js"></script>
            <script src="js/page.js"></script>
        </div>
    </body>
</html>
